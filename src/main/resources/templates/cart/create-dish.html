<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Create new dish</title>
    <link th:href="@{/css/pttk.css}" rel="stylesheet"/>
    <script src="/js/jquery.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script th:src="@{https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js}"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script src="/js/homeDish.js" type="text/javascript"></script>
</head>
<body style="background-color:antiquewhite">
<div class="container">
    <div class="row">
        <div class="col-md-3 col-sm-3 col-xs-3" style="background-color:firebrick">
            <div class="abc">
                <img src="/pictures2/logo2.png" style="width: 280px;height: 120px;">
            </div>
        </div>
        <div class="col-md-5 col-sm-5 col-xs-5" style="background-color:firebrick">
            <div id="timkiem">
                <ul>
                    <li><a th:href="@{/home}" title="HOME"><strong>Trang chủ</strong></a></li>
                    <li><a th:href="@{/home/client/sign-in}" title="ORDER"><strong>Đặt món</strong></a></li>
                    <li><a href="#" title="EVALUATE"><strong>Đánh giá</strong></a></li>
                    <li><a href="#" title="Voucher"><strong>Voucher</strong></a></li>
                    <li><a th:href="@{/home/client/sign-up}" title="SIGN-UP"><strong>Đăng kí</strong></a></li>
                    <li><a th:href="@{/home/client/login}" title="LOG-IN"><strong>Đăng nhập</strong></a></li>
                    <li><a href="#" title="CONTACTS"><strong>Liên hệ</strong></a></li>
                    <input type="text" name="text" id="text" value=""/>
                </ul>
                <div class="box">
                    <input type="text" placeholder="Search here">
                    <a><i class="fas fa-search-location"></i></a>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-4" style="background-color:firebrick ; color: khaki;">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="item active">
                        <img src="/pictures2/16.jpg" alt="Chania" style="width: 360px;height: 120px;">
                        <div class="carousel-caption">
                            <h4>Món Hot</h4>
                            <p>gà cay sốt thần thánh</p>
                        </div>
                    </div>
                    <div class="item">
                        <img src="/pictures2/6.jpg" alt="Chania" style="width: 360px;height: 120px;">
                        <div class="carousel-caption">
                            <h4>Món mới</h4>
                            <p>mì trộn hàn quốc</p>
                        </div>
                    </div>
                    <div class="item">
                        <img src="/pictures2/15.jpg" alt="Chania" style="width: 360px;height: 120px;">
                        <div class="carousel-caption">
                            <h4>khuyến mãi đặc biệt</h4>
                            <p>kim bap chiên trứng</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <p>
            <a th:href="@{/home/cart/__${id}__/view}">
                <button>Xem giỏ hàng chi tiết</button>
            </a>
        </p>
        <p>
            <a th:href="@{/home/cart/__${id}__/create/dish}">
                <button>Xem món ăn</button>
            </a>
        </p>
        <th:block th:if="${message}">
            <h5 th:text="${message}"></h5>
        </th:block>


        <th:block th:if="${dish}">
            <div id="form">
                <div id="abbb" style="border:  solid 3px #770000 ">
                    <form action="#" th:action="@{/home/cart/__${dish.cart.id}__/save/dish}" th:object="${dish}"
                          method="post"
                          novalidate>
                        <fieldset>
                            <legend>Thông tin món ăn</legend>

                            </br>
                            <tr>
                                <td><input type="hidden" th:field="*{id}"></td>
                                </br>
                            </tr>

                            <tr>
                                <td><label class="control-label" for="name" style="margin-right: 52px">Tên món</label>
                                </td>
                                <td><input type="text" class="form-control" id="name" th:field="*{name}" readonly></td>
                                </br>
                            </tr>
                            <tr>
                                <td><label style="margin-right: 51px">Số lượng</label></td>
                                <td><input type="number" id="amount" value="1" th:field="*{amount}" ></td>
                                </br>
                            </tr>
                            <tr>
                                <td><label class="control-label" for="gia" style="margin-right: 54px">Giá món</label>
                                </td>
                                <td><input type="text" class="form-control" id="gia" th:field="*{price}" readonly></td>
                                </br>
                            </tr>
                            <tr>
                                <td><input type="hidden" th:field="*{cart.id}" readonly></td>
                            </tr>
                            <tr>
                                <td><input type="submit" value="Đặt món" onclick="return validate()"></td>
                            </tr>
                        </fieldset>
                    </form>
                </div>
            </div>
        </th:block>

        <th:block th:if="${dishes}">
            <table id="employees2" border="2" style="border: black">
                <thead>
                <tr>
                    <th>Tên món</th>
                    <th>Mô tả</th>
                    <th>Ảnh</th>
                    <th>Giá</th>
                    <th>Mua</th>

                </tr>
                </thead>
                <tbody>
                <tr th:each="row,rowStat : ${dishes}">
                    <td th:text="${row.getName()}"></td>
                    <td th:text="${row.getDescription()}"></td>
                    <td><img th:src="@{'/pictures2/' + ${row.getImage()}}" th:width="100px" th:height="100px"></td>
                    <td th:text="${row.getPrice()}"></td>
                    <td><a th:href="@{/home/cart/__${cart.getId()}__/dish/{id2}(id2=${row.getId()})}">
                        <button>Mua</button>
                    </a></td>
                </tr>
                </tbody>
                <div style="font-size: 25px; text-align: center">
                    <a th:href="@{'/home/cart/__${cart.getId()}__/create/dish'(page=${dishes.number - 1})}" th:if="${dishes.hasPrevious()}">Trước</a>
                    <span th:text="${dishes.number + 1}"></span>/<span th:text="${dishes.totalPages}"></span>
                    <a th:href="@{'/home/cart/__${cart.getId()}__/create/dish'(page=${dishes.number + 1})}" th:if="${dishes.hasNext()}">Sau</a>
                </div>
            </table>
        </th:block>
        <div id="footer" class="container" style="background-color:aquamarine;height: 80px;">
            <div class="row"></div>
            <div class="col-md-7 col-sm-7 col-xs-7">
                <ul class="breadcrumb" style="background-color: aquamarine">
                    <li><a href="#"><h2>*Giới thiệu</h2></a></li>
                    <li><a href="#">Hệ thông cửa hàng</a></li>
                    <li><a href="#">Khuyến mại</a></li>
                    <li><a href="#">Tuyển dụng</a></li>
                    <li><a href="#">liên hệ</a></li>
                </ul>
            </div>

            <div class="col-md-5 col-sm-5 col-xs-5">
                <div class="id">
                    <a href="https://www.facebook.com"><img src="/pictures2/face.png" style="width: 40px; height: 40px"></a>
                    <a href="https://twitter.com"><img src="/pictures2/tw.jpg" style="width: 40px; height: 40px"></a>
                    <a href="https://chat.zalo.me"><img src="/pictures2/za.webp" style="width: 40px; height: 40px"></a>
                    <a href="https://www.youtube.com"><img src="/pictures2/you.png"
                                                           style="width: 40px; height: 40px"></a>
                    <a href="https://www.google.com"><img src="/pictures2/gg.png" style="width: 40px; height: 40px"></a>
                    <a href="https://www.google.com/maps"><img src="/pictures2/ggm.png"
                                                               style="width: 40px; height: 40px"></a>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function validate() {
        let amount = $("#amount").val();
        if (amount <= 0 || amount.length == null) {
            alertErrorMessage("Số lượng không được để trống và phải là số dương");
            return false;
        }

        return true;
    }
    function alertErrorMessage(message) {
        Swal.fire({
            position: 'middle',
            icon: 'error',
            title: 'Thông báo',
            text: message
        });
    }
</script>
</body>
</html>